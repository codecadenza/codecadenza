<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="jakarta.faces.facelets"
	xmlns:h="jakarta.faces.html"
	xmlns:f="jakarta.faces.core"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/ui.xhtml">

<ui:define name="title">#{i18n.form_changepassworddialog_title}</ui:define>

<ui:define name="content">

		<p:dialog header="#{i18n.feedback_dialog_header}" modal="true" widgetVar="msgBox" visible="#{(not empty facesContext.messageList)}" >
			<p:messages id="messages" showDetail="true" showSummary="true"/>
		</p:dialog>

		<h:panelGrid columns="2">
			<div class="pi pi-key" style="font-size: 2em"/>
			<h:outputText id="lblFormTitle" value="#{i18n.form_changepassworddialog_title}" styleClass="label-form-title"/>
		</h:panelGrid>

		<p:panel>
		<h:panelGrid columns="2">

			<h:outputLabel value="#{i18n.field_changepassworddialog_txtoldpassword} *:" styleClass="label-field-mandatory" for="txtOldPassword"/>
			<p:password id="txtOldPassword" value="#{userSession.oldPassword}">
				<f:validateRequired/>
			</p:password>

			<h:outputLabel value="#{i18n.field_changepassworddialog_txtnewpassword} *:" styleClass="label-field-mandatory" for="txtNewPassword"/>
			<p:password id="txtNewPassword" value="#{userSession.newPassword}">
				<f:validateRequired/>
			</p:password>

			<h:outputLabel value="#{i18n.field_changepassworddialog_txtnewpasswordconfirm} *:" styleClass="label-field-mandatory" for="txtNewPasswordConfirm"/>
			<p:password id="txtNewPasswordConfirm" value="#{userSession.confirmedPassword}">
				<f:validateRequired/>
			</p:password>

		</h:panelGrid>
		</p:panel>

		<p/>
		
		<h:panelGrid columns="1">
			<p:commandButton value="#{i18n.command_save}" action="#{userSession.changePassword}" ajax="false"/>
		</h:panelGrid>

</ui:define>
</ui:composition>
